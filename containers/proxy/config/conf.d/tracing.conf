# this creates a tracing ID that will be propagated to all following requests.
# it will use the current RequestID but prefer the value from an incoming X-Tracing-ID header.
# this allows re-using the tracingID for sub requests made by an application.
# example: user->proxy->webserver->php (Uvex TYPO3)->proxy->webserver->php (Uvex Shopware) will use the same tracingID
map $http_x_tracing_id $traceId {
    default   $http_x_tracing_id;
    ""        $request_id;
}